<!doctype html><html lang=en-us><head><head><br><br><title>Merging .bib files with bibtool</title><style>html body{font-family:,sans-serif;background-color:#fff}:root{--accent: #2196F3;--border-width:  0 }</style><link rel=stylesheet href=../../../css/main.css><link rel=stylesheet href=../../../css/perso.css><link rel=stylesheet href=../../../css/family.css><link rel=stylesheet href=../../../css/creativecommons.css><link href=https://unpkg.com/ionicons@4.2.2/dist/css/ionicons.min.css rel=stylesheet><link rel=stylesheet href=../../../css/font-awesome.min.css><link rel=stylesheet href=../../../css/academicons.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script src=../../../js/jquery-ui-1.9.1.custom.min.js></script><script src=../../../js/jquery.tocify.min.js></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//bash.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//julia.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//python.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//rust.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//xml.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//yaml.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//tex.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//shell.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages//matlab.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/tomorrow-night-eighties.min.css><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: false,
    }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/latest.js?config=TeX-MML-AM_CHTML" async></script><link rel=stylesheet href=https://unpkg.com/leaflet@1.5.1/dist/leaflet.css integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin><script src=https://unpkg.com/leaflet@1.5.1/dist/leaflet.js integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og==" crossorigin></script><meta name=generator content="Hugo 0.57.2"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"></head></head><body><nav class="navbar navbar-default navbar-fixed-top"><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#bs-example-navbar-collapse-1>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav mr-auto"><li><a href=../../../publications/>Publications</a></li><li><a href=../../../talks/>Talks&amp;Posters</a></li><li><a href=../../../teaching/>Teaching</a></li><li><a href=../../../software/>Software</a></li><li><a href=../../../econotes/>EcoNotes</a></li><li><a href=../../../notes/>SilicoNotes</a></li><li><a href=../../../perso/>Perso</a></li></ul><ul class="nav navbar-nav navbar-right"><li class=navbar-icon><a href=../../../><i class="fa fa-home"></i></a></li><li class=navbar-icon><a href=https://insileco.github.io/><i class="fa fa-external-link-square"></i></a></li><li class=navbar-icon><a href=https://www.github.com/KevCaz><i class="fa fa-github"></i></a></li></ul></ul></div></div></nav><br><div class=container><div class=row><div class=col-sm-2><div class="hidden-sm hidden-xs"></div></div><div class=col-sm-10><div class=article-meta><h1><span class=title>Merging .bib files with bibtool</span></h1><h3><span class=subtitle></span></h3><h3 class=date style=font-size:1.25em>April 22, 2019</h2><p class=tags><i class="fa fa-tags" aria-hidden=true></i>&nbsp;
<a href=../../../tags/bibtex><kbd class=item-tag>bibtex</kbd></a>
<a href=../../../tags/bibtool><kbd class=item-tag>bibtool</kbd></a>
<a href=../../../tags/latex><kbd class=item-tag>latex</kbd></a>
<a href=../../../tags/bibliography><kbd class=item-tag>bibliography</kbd></a></p><br></div><p>As researchers, we sometimes write manuscripts collectively and remotely in
<a href=https://www.latex-project.org/ target=_blank>LaTeX</a> (or in a lightweight markup languages
that is converted into LaTeX at some point). In such case, it is quite
useful to let co-authors edit their own <code>bib</code> file in order to store the references included in the part of the manuscript they are editing. One way to deal with several <code>bib</code> files is to merge them into one <code>bib</code> file before compiling the final document to <code>pdf</code>. In this note, I exemplify how to do so.</p><p>Let&rsquo;s assume that there are two <code>bib</code> files within the manuscript folder:</p><ol><li><code>kevcaz.bib file</code>, my own list of references;</li><li><code>author.bib</code>, my colleague&rsquo;s references list.</li></ol><p>I added these two files below:</p><p><br></p><p><details><summary><a>click to display kevcaz.bib <i class="fa fa-chevron-down" aria-hidden=true></i></a></summary></p><pre><code class=language-tex>% kevcaz.bib
@Article{	 alroy_new_2015,
  title		= {A new twist on a very old binary similarity coefficient},
  volume	= {96},
  issn		= {0012-9658},
  doi		= {10.1890/14-0471.1},
  number	= {2},
  urldate	= {2019-04-13},
  journal	= {Ecology},
  author	= {Alroy, John},
  year		= {2015},
  pages		= {575--586}
}

@Article{	 savage_elevational_2015,
  title		= {Elevational shifts, biotic homogenization and time lags in
		  vegetation change during 40 years of climate warming},
  volume	= {38},
  issn		= {09067590},
  doi		= {10.1111/ecog.01131},
  language	= {en},
  number	= {6},
  urldate	= {2019-04-14},
  journal	= {Ecography},
  author	= {Savage, Jos√©e and Vellend, Mark},
  month		= jun,
  year		= {2015},
  pages		= {546--555}
}
</code></pre><p></details></p><p><details><summary><a>click to display coauthor.bib <i class="fa fa-chevron-down" aria-hidden=true></i></a></summary></p><pre><code class=language-tex>% coauthor.bib
@article{morales-castilla_inferring_2015,
	title = {Inferring biotic interactions from proxies},
	volume = {30},
	issn = {01695347},
	doi = {10.1016/j.tree.2015.03.014},
	language = {en},
	number = {6},
	urldate = {2018-05-23},
	journal = {Trends in Ecology \&amp; Evolution},
	author = {Morales-Castilla, Ignacio and Matias, Miguel G. and Gravel, Dominique and Ara√∫jo, Miguel B.},
	month = jun,
	year = {2015},
	keywords = {Interaction biotique},
	pages = {347--356}
}

@article{russell_scale_2006,
	title = {Scale, {Environment}, and {Trophic} {Status}: {The} {Context} {Dependency} of {Community} {Saturation} in {Rocky} {Intertidal} {Communities}},
	volume = {167},
	issn = {0003-0147, 1537-5323},
	shorttitle = {Scale, {Environment}, and {Trophic} {Status}},
	url = {http://www.journals.uchicago.edu/doi/10.1086/504603},
	doi = {10.1086/504603}
}

@Article{	 alroy_new_2015,
  title		= {A new twist on a very old binary similarity coefficient},
  volume	= {96},
  issn		= {0012-9658},
  doi		= {10.1890/14-0471.1},
  number	= {2},
  urldate	= {2019-04-13},
  journal	= {Ecology},
  author	= {Alroy, John},
  year		= {2015},
  pages		= {575--586}
}
</code></pre><p></details></p><p><br></p><p>Then, what I want is to merge them into one single file <code>biblio_sorted.bib</code> (the
one to be used as reference data base for the manuscript) and I also want to
remove all duplicates before the merge. How to do so? Well, that is the king of
situation where <a href="https://ctan.org/pkg/bibtool?lang=en" target=_blank>bibtool</a> comes in handy.
This command line tool allows several manipulations of <code>.bib</code> files and here I
use it to merge two <code>bib</code> file, sort the entries in alphabetical order and
remove all duplicates with single line of command:</p><pre><code class=language-shell>$ bibtool -s -d kevcaz.bib coauthor.bib -o biblio_sorted.bib
*** BibTool WARNING: Possible double entries discovered:
***     alroy_new_2015 =?= alroy_new_2015
***     alroy_new_2015
</code></pre><p>Where :
- option <code>-s</code> sorts entries in alphabetical order;
- option <code>-d</code> comments out duplicates
- option <code>-o</code> indicate the name of the output files.</p><p>Below is the final file with two comments of my own:</p><p><br></p><p><details><summary><a>click to display biblio_sorted.bib <i class="fa fa-chevron-down" aria-hidden=true></i></a></summary></p><pre><code class=language-tex>% biblio_sorted
@Article{	  alroy_new_2015,
  title		= {A new twist on a very old binary similarity coefficient},
  volume	= {96},
  issn		= {0012-9658},
  doi		= {10.1890/14-0471.1},
  number	= {2},
  urldate	= {2019-04-13},
  journal	= {Ecology},
  author	= {Alroy, John},
  year		= {2015},
  pages		= {575--586}
}

% NB: '###' comments the reference out
###Article{	  alroy_new_2015,
  title		= {A new twist on a very old binary similarity coefficient},
  volume	= {96},
  issn		= {0012-9658},
  doi		= {10.1890/14-0471.1},
  number	= {2},
  urldate	= {2019-04-13},
  journal	= {Ecology},
  author	= {Alroy, John},
  year		= {2015},
  pages		= {575--586}
}

@Article{	  morales-castilla_inferring_2015,
  title		= {Inferring biotic interactions from proxies},
  volume	= {30},
  issn		= {01695347},
  doi		= {10.1016/j.tree.2015.03.014},
  language	= {en},
  number	= {6},
  urldate	= {2018-05-23},
  journal	= {Trends in Ecology \&amp; Evolution},
  author	= {Morales-Castilla, Ignacio and Matias, Miguel G. and
		  Gravel, Dominique and Ara√∫jo, Miguel B.},
  month		= jun,
  year		= {2015},
  keywords	= {Interaction biotique},
  pages		= {347--356}
}

@Article{	  russell_scale_2006,
  title		= {Scale, {Environment}, and {Trophic} {Status}: {The}
		  {Context} {Dependency} of {Community} {Saturation} in
		  {Rocky} {Intertidal} {Communities}},
  volume	= {167},
  issn		= {0003-0147, 1537-5323},
  shorttitle	= {Scale, {Environment}, and {Trophic} {Status}},
  url		= {http://www.journals.uchicago.edu/doi/10.1086/504603},
  doi		= {10.1086/504603}
}

@Article{	  savage_elevational_2015,
  title		= {Elevational shifts, biotic homogenization and time lags in
		  vegetation change during 40 years of climate warming},
  volume	= {38},
  issn		= {09067590},
  doi		= {10.1111/ecog.01131},
  language	= {en},
  number	= {6},
  urldate	= {2019-04-14},
  journal	= {Ecography},
  author	= {Savage, Jos√©e and Vellend, Mark},
  month		= jun,
  year		= {2015},
  pages		= {546--555}
}
</code></pre><p></details></p><p><br></p><p>Pretty neat, isn&rsquo;t it? Plus, if you are familiar with
<a href=https://www.gnu.org/software/make/manual/html_node/Introduction.html target=_blank>Makefiles</a>,
it is easy to add this to your compilation process so that each time your <code>bib</code>
file is edited, the manuscript database will be edited will be updated üòÉ!
I find this way quite convenient as it allows co-author to edit the list of
reference without worrying about potential conflicts in this list.</p><p>Three final remarks to conclude this post:</p><ul><li><p>have a look at <code>man bibtool</code>, there are several options to explore, for instance <code>-S</code> to sort entries in reverse order;</p></li><li><p>the approach described above will work seamlessly if all the authors edit the
keys of the entries in the same way (as above), otherwise another step is
required to standardize these keys;</p></li><li><p>there are alternative ways to deal with several <code>bib</code> files directly in the
LaTex file. For instance, the macro <code>\addbibresource</code> of the <code>biblatex</code>
package, see this answer on <a href=https://tex.stackexchange.com/questions/98660/two-bibliographies-one-for-main-text-and-one-for-appendix target=_blank><i class="fa fa-stack-overflow" aria-hidden=true></i></a>.</p></li></ul></div></div></div><br><br><footer><div class=row><div class=col-sm-3><div class="hidden-sm hidden-xs"></div></div><div class=col-sm-8><div class=row><hr><div class=col-sm-10 style=text-align:center>Personnal website built with <i class="icon ion-md-heart"></i>, <a href=https://gohugo.io/>Hugo</a>
and my <a href=https://github.com/KevCaz/hugo-KevCaz>own theme</a>!
<i class="fa fa-code" aria-hidden=true></i>available on
<a href=https://github.com/KevCaz/KevCaz.github.io><i class="fa fa-github" aria-hidden></i></a>.<br>All content is licensed under
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/><i class="cc cc-cc-circle cc-1x"></i><i class="cc cc-by-circle cc-1x"></i><i class="cc cc-nc-circle cc-1x"></i><i class="cc cc-sa-circle cc-1x"></i></a>unless otherwise specified.</div><div class=col-sm-2><a href=#><i class="fa fa-arrow-circle-o-up fa-2x" aria-hidden=true></i></a><br><br></div><div></div></div><br></footer></body></html>