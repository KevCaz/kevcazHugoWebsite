<!doctype html><html lang=en-us><head><title>KevCaz's Website</title><link rel=stylesheet href=https://kevcaz.github.io/css/main.min.3e80b0b98262c741b43d007658694cef81a3cfc7dbbc04ceb03844577b3a225c.css media=screen><link rel=stylesheet href=../../../css/perso.css><link rel=stylesheet href=../../../css/family.css><meta name=author content="Kevin Cazelles"><meta name=institution content="Department of Integrated Biology, University of Guelph"><meta name=news_keywords content="[hardware installation setup MacBookPro MacOS Linux Debian Ubuntu]"><meta property="og:site_name" content="KevCaz's Website"><meta property="og:title" content="Dual Boot MacOS-Ubuntu"><meta property="og:image" content="https://kevcaz.github.io/img/imgOG/kevcaz_og.png"><meta property="og:description" content="Kevin Cazelles's website"></head><body><div class=page><div class=ctn-sidebar-primary><div class=ctt-sidebar-primary><h1>KevCaz's Website</h1><div class=primary-sidebar-premenu><h2><i class="fas fa-align-center"></i><button onclick="dropDown('p-s-menu')"> Menu</button></h2></div><div class=primary-sidebar-menu id=p-s-menu><h2><a href=../../../><i class="fas fa-home"></i>Home</a></h2><h2><a href=../../../about/><i class="fas fa-id-card"></i>About</a></h2><h2><a onclick="dropDown('dropdown-research')" href=javascript:void(0)><i class="fas fa-microscope"></i>Research</a></h2><div class=dropdown id=dropdown-research><h3><a href=../../../projects/>Projects</a></h3><h3><a href=../../../publications/>Publications</a></h3><h3><a href=../../../software/>Software</a></h3><h3><a href=../../../talks/>Talks & Posters</a></h3><h3><a href=../../../teaching/>Teaching</a></h3><h3><a href=../../../resume/>Resume</a></h3></div><h2 id=current-dropdown><a onclick="dropDown('dropdown-blog')" href=javascript:void(0)><i class="fas fa-blog"></i>Blog</a></h2><div class=dropdown-current id=dropdown-blog><h3><a href=../../../econotes/>EcoNotes</a></h3><h3 id=current><a href=../../../notes/>SilicoNotes</a></h3><h3><a href=https://insileco.github.io/>inSileco</a></h3></div><h2><a onclick="dropDown('dropdown-perso')" href=javascript:void(0)><i class="fas fa-person-booth"></i>Personal stuff</a></h2><div class=dropdown id=dropdown-perso><h3><a href=../../../perso/books>Books I read and liked</a></h3><h3><a href=../../../perso/movies>Movies I watched and liked</a></h3><h3><a href=../../../perso/opinions>Opinions I dare to share</a></h3><h3><a href=../../../perso/famille>Even more personal</a></h3></div></div><div class=footer><hr id=hr-footer align=left><div class=social-media-banner><a href=https://github.com/KevCaz><i class="fab fab fa-github-square"></i></a><a href=https://stackoverflow.com/users/8038778><i class="fab fa-stack-overflow"></i></a><a href=https://twitter.com/KCazelles><i class="fab fa-twitter-square"></i></a><a href=http://orcid.org/0000-0001-6619-9874><i class="ai ai-orcid-square"></i></a><a href="https://scholar.google.ca/citations?user=xzvcu7cAAAAJ%26hl"><i class="ai ai-google-scholar-square"></i></a><a href=https://www.researchgate.net/profile/Kevin_Cazelles><i class="ai ai-researchgate-square"></i></a><a href=https://kevcaz.github.io/index.xml><i class="fas fa-rss-square"></i></a></div><div class=footer-custom>Website built with <a href=https://gohugo.io/>Hugo</a>.<br><i class="fas fa-code"></i>available on <a href=https://github.com/KevCaz/KevCaz.github.io><i class="fab fa-github"></i></a>.<br>Content under <a href=https://creativecommons.org/publicdomain/zero/1.0><i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-zero"></i></a>unless otherwise specified.</div></div></div></div><div class=ctn-main-content><div class=ctt-main-content><div class=article-meta><h1 id=title>Dual Boot MacOS-Ubuntu</h1><h3 class=date>July 16, 2019<div class=tags><i class="fas fa-tags" aria-hidden=true></i>&nbsp;
<a href=../../../tags/hardware><kbd class=item-tag>hardware</kbd></a>
<a href=../../../tags/installation><kbd class=item-tag>installation</kbd></a>
<a href=../../../tags/setup><kbd class=item-tag>setup</kbd></a>
<a href=../../../tags/macbookpro><kbd class=item-tag>MacBookPro</kbd></a>
<a href=../../../tags/macos><kbd class=item-tag>MacOS</kbd></a>
<a href=../../../tags/linux><kbd class=item-tag>Linux</kbd></a>
<a href=../../../tags/debian><kbd class=item-tag>Debian</kbd></a>
<a href=../../../tags/ubuntu><kbd class=item-tag>Ubuntu</kbd></a></div></div><div class=article-main><h2 id=context>Context</h2><p>I must say that I have been quite unhappy with my old Mac Book Pro (mid 2012)
for almost a year now. IIRC, I got it early 2013 and it served me well during my
PhD but now it is kind of slow üê¢ and often behaves weirdly on boot. Last
weekend fir instance, I got a nasty black screen on boot üò±. Turns out it
happens frequently and there are no less than <a href=http://osxdaily.com/2014/11/22/fix-macbook-pro-booting-black-screen/>four different solutions to this
issue
üò±</a>
(in my case, emptying the PRAM did the job)&mldr; Windows, MacOS, blue screen,
black screen, yunno&mldr; I found having these issues actually rather worrisome
because I care about my computer, I update it frequently and I'm actually
capable of solving this kind of issues, so WTF? This whole situation makes me
wonder what people unable to deal with this kind of problem would do&mldr; My guess
is they would go to an fancy Apple store to either get it fixed üí∞ or
get a new shinny Mac üí∞üí∞üí∞! Anyway, as the time went on, I started to feel frustrated and as I was not a big fan of <a href=https://www.apple.com/ca/fr/macos/mojave/>MacOS Mojave</a> (it brings nothing I need and I haven't noted any improvement). Given this I decided:</p><ol><li>to get rid of Mojave and clean install High Sierra on one partition;</li><li>to install Ubuntu 18.04 on a second one.</li></ol><h2 id=clean-install-macos-high-sierra>Clean install MacOS High Sierra</h2><p>This is a two steps procedure detailed in several posts (e.g. <a href=https://setapp.com/how-to/how-to-clean-install-macos-high-sierra>here</a> and <a href=https://9to5mac.com/2018/06/18/how-to-create-a-bootable-macos-mojave-10-14-usb-install-drive-video/>there</a>):</p><ol><li><p>create a bootable installer (the easiest way is to use a USB stick) which requires to <a href=https://support.apple.com/en-us/HT201372>download the installer for High Sierra and use the &lsquo;createinstallmedia&rsquo; command in a terminal</a>;</p></li><li><p>use the bootable installer, i.e. rebooting the Mac while holding the Option key (<code>alt</code>) and then boot on the installer which guides you through all the steps.</p></li></ol><p>Note that as I wanted to create a second partition with Ubuntu I had to use
<a href=https://support.apple.com/en-ca/guide/disk-utility/welcome/mac>Disk Utility</a>
to partition the hard drive (NB this requires to select <code>Show All Devices</code> in
the <code>View</code> menu in Disk Utility in order to select the hard drive &ndash; not a
container). Afterwards I installed <a href=https://brew.sh/>Homebrew</a> and a couple of
of software for the time being, i.e. I opened the terminal and entered:</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ /usr/bin/ruby -e <span style=color:#f1fa8c>&#34;</span><span style=color:#ff79c6>$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install<span style=color:#ff79c6>)</span><span style=color:#f1fa8c>&#34;</span>
$ brew install git imagemagick ffmpeg docker hugo R postgresql hugo
$ brew cask install atom firefox google-chrome iterm julia libreoffice vlc sage
</code></pre></td></tr></table></div></div><p>I couldn't resist to install <a href=https://store.steampowered.com/steamos>SteamOS</a>
and <a href=https://openemu.org/>OpenEmu</a> üòÜ even though I'm not spending much
time on them (<code>brew cask install steam openemu</code>).</p><p>After this, the first part was completed ‚úÖ.</p><h2 id=dual-boot-macosubuntu>Dual boot MacOS/Ubuntu</h2><p>There are several blog posts/tutorials covering this, see for instance <a href=https://www.lifewire.com/dual-boot-linux-and-mac-os-4125733>the post on Lifewire</a>. In a nutshell, the installation of Ubuntu requires to:</p><ol><li><p>create a bootable installer for <a href=http://releases.ubuntu.com/18.04/>Ubuntu 18.04 - <em>Bionic Beaver</em></a>;</p></li><li><p>use the bootable installer;</p></li></ol><p>I actually tried to create a bootable installer on my Debian computer but MacOS
was not capable of recognizing the installer (did not try to solve this issue,
that just irritates me). So I did it on my freshly MacOS High Sierra partition,
i.e. after I <a href=(http://releases.ubuntu.com/18.04/)>downloaded the Ubuntu desktop
image</a>, I used the <code>dd</code> command to create
the installer on my USD stick. Note that I got the right location, <code>disk1</code>,
using <code>diskutil list</code> in a terminal (I would have used <code>lsblk</code> on Debian). So
here is what I did:</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ sudo umount /dev/&lt;disk?&gt;
$ sudo dd <span style=color:#ff79c6>if</span><span style=color:#ff79c6>=</span>./ubuntu-18.04.2-desktop-amd64.iso <span style=color:#8be9fd;font-style:italic>of</span><span style=color:#ff79c6>=</span>&lt;disk?&gt; <span style=color:#8be9fd;font-style:italic>bs</span><span style=color:#ff79c6>=</span>4m <span style=color:#ff79c6>&amp;&amp;</span> sync
</code></pre></td></tr></table></div></div><p>where <code>&lt;disk?></code> was replaced by <code>disk1</code> in my case. For the records, I would have done the following on Debian:</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ sudo umount /dev/&lt;sda?&gt;
$ sudo dd <span style=color:#8be9fd;font-style:italic>bs</span><span style=color:#ff79c6>=</span>4M <span style=color:#ff79c6>if</span><span style=color:#ff79c6>=</span>./ubuntu-18.04.2-desktop-amd64.iso <span style=color:#8be9fd;font-style:italic>of</span><span style=color:#ff79c6>=</span>/dev/&lt;sda?&gt; <span style=color:#8be9fd;font-style:italic>conv</span><span style=color:#ff79c6>=</span>fdatasync
</code></pre></td></tr></table></div></div><p>where <code>&lt;sda?></code> would have been <code>sda1</code> (again, in my case). Once the Ubuntu
installer created I rebooted and held <code>alt</code> to launch the Ubuntu installer. The
tricky part was to find the right partition so I used the partition manager to select the right partition (for me it was <code>sda4</code> and I needed to first remove it with <code>-</code> to turn it into free space which I used to install Ubuntu. Once done, I installed several packages:</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#6272a4># apt-get update &amp;&amp; apt-get upgrade</span>
<span style=color:#6272a4># apt-get install inkscape libreoffice gimp imagemagick ffmpeg vlc git inxi \</span>
  openssh-server gconf2 pandoc texlive fonts-powerline zsh cmake python-pip <span style=color:#f1fa8c>\
</span><span style=color:#f1fa8c></span>  r-base r-base-core r-recommeneded r-cran-*
</code></pre></td></tr></table></div></div><p>and below are a couple of characteristics of my MacBookPro returned by <a href=https://github.com/smxi/inxi>inxi</a> on my Ubuntu partition:</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ inxi -SMCGP
System:    Host: kevcaz-mbp Kernel: 4.18.0-25-generic x86_64 bits: <span style=color:#bd93f9>64</span> Desktop: Gnome 3.28.4
          Distro: Ubuntu 18.04.2 LTS
Machine:   Device: laptop System: Apple product: MacBookPro9 <span style=color:#bd93f9>1</span> v: 1.0 serial: N/A
          Mobo: Apple model: Mac-4B7AC7E43945597E v: MacBookPro9 <span style=color:#bd93f9>1</span> serial: N/A
          UEFI: Apple v: 226.0.0.0.0 date: 04/16/2019
CPU:       Quad core Intel Core i7-3720QM <span style=color:#ff79c6>(</span>-MT-MCP-<span style=color:#ff79c6>)</span> cache: <span style=color:#bd93f9>6144</span> KB
          clock speeds: max: <span style=color:#bd93f9>3600</span> MHz 1: <span style=color:#bd93f9>2498</span> MHz 2: <span style=color:#bd93f9>2829</span> MHz 3: <span style=color:#bd93f9>3346</span> MHz 4: <span style=color:#bd93f9>2571</span> MHz 5: <span style=color:#bd93f9>2573</span> MHz 6: <span style=color:#bd93f9>2609</span> MHz
          7: <span style=color:#bd93f9>2640</span> MHz 8: <span style=color:#bd93f9>2521</span> MHz
Graphics:  Card-1: Intel 3rd Gen Core processor Graphics Controller
          Card-2: NVIDIA GK107M <span style=color:#ff79c6>[</span>GeForce GT 650M Mac Edition<span style=color:#ff79c6>]</span>
          Display Server: x11 <span style=color:#ff79c6>(</span>X.Org 1.20.4 <span style=color:#ff79c6>)</span> drivers: i915,nouveau
          Resolution: 1440x900@59.90hz, 1440x900@59.90hz
          OpenGL: renderer: NVE7 version: 4.3 Mesa 18.2.2
Partition: ID-1: / size: 458G used: 11G <span style=color:#ff79c6>(</span>3%<span style=color:#ff79c6>)</span> fs: ext4 dev: /dev/sda4
</code></pre></td></tr></table></div></div><p>When I first rebooted my Mac, I was confused because Ubuntu was directly
launched and I cannot select the MacOS partition. After a couple of minutes I
figured out that all I had to do now is to hold <code>alt</code> <a href=https://support.apple.com/en-ca/HT201255>to access the Startup
Manager</a> (as I did above to access the
installers) and select the right partition! I actually like it this way, it's
kind of a hidden partition!</p></div></div><div class=footer2><hr id=hr-footer align=left><div class=social-media-banner><a href=https://github.com/KevCaz><i class="fab fab fa-github-square"></i></a><a href=https://stackoverflow.com/users/8038778><i class="fab fa-stack-overflow"></i></a><a href=https://twitter.com/KCazelles><i class="fab fa-twitter-square"></i></a><a href=http://orcid.org/0000-0001-6619-9874><i class="ai ai-orcid-square"></i></a><a href="https://scholar.google.ca/citations?user=xzvcu7cAAAAJ%26hl"><i class="ai ai-google-scholar-square"></i></a><a href=https://www.researchgate.net/profile/Kevin_Cazelles><i class="ai ai-researchgate-square"></i></a><a href=https://kevcaz.github.io/index.xml><i class="fas fa-rss-square"></i></a></div><div class=footer-custom>Website built with <a href=https://gohugo.io/>Hugo</a>.<br><i class="fas fa-code"></i>available on <a href=https://github.com/KevCaz/KevCaz.github.io><i class="fab fa-github"></i></a>.<br>Content under <a href=https://creativecommons.org/publicdomain/zero/1.0><i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-zero"></i></a>unless otherwise specified.</div></div></div><div class=ctn-sidebar-secondary><div class=ctt-sidebar-secondary><h1><a href=#><i class="far fas fa-chevron-up"></i></a></h1><script src=../../../js/sidebar-secondary.js></script><h1><a onclick=scrollToBottom()><i class="far fas fa-chevron-down"></i></a></h1></div></div></div><script src=../../../js/sidebar-primary-dropdown.js></script><script>scrollingElement=(document.scrollingElement||document.body)
function scrollToBottom(){scrollingElement.scrollTop=scrollingElement.scrollHeight;}</script></body></html>